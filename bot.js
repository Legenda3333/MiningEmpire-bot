import { Telegraf, Markup } from 'telegraf';
import dotenv from 'dotenv';
dotenv.config();

const bot = new Telegraf(process.env.TOKEN);
//const webAppUrl = 'https://mining-empire-game.web.app';

bot.start(async (ctx) => {
    ctx.replyWithHTML(
        'üëã <b>–ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MiningEmpire!</b> üöÄ\n' +
        '\n'+
        '–°–µ–π—á–∞—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —ç—Ç–∞–ø —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞, –∏ —É —Ç–µ–±—è –µ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å –±—É–¥—É—â—É—é –º–æ–Ω–µ—Ç—É –¥–æ –µ√´ –ª–∏—Å—Ç–∏–Ω–≥–∞ –Ω–∞ –±–∏—Ä–∂–∞—Ö, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—è–≤–ª—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏! üí∞‚ú® \n' +
        '\n' +
        '<b>–í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b>\n' +
        '–ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç ‚è≥ –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –¥–æ–±—ã—Ç—ã–π –±–ª–æ–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –º–∞–π–Ω–∏–Ω–≥–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ ‚ö°Ô∏è–ß–µ–º –±–æ–ª—å—à–µ —É —Ç–µ–±—è –º–æ—â–Ω–æ—Å—Ç–∏, —Ç–µ–º –±–æ–ª—å—à–µ –º–æ–Ω–µ—Ç —Ç—ã –ø–æ–ª—É—á–∏—à—å! üí∏\n' +
        '\n' +
        '‚ùì <b>–ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –º–æ—â–Ω–æ—Å—Ç—å –º–∞–π–Ω–∏–Ω–≥–∞?</b>\n' +
        '<b>1. –í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è</b> üèÜ: –ü—Ä–æ—è–≤–ª—è–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤—ã–ø–æ–ª–Ω—è—è –∫–∞–∫ –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤—ã–µ, —Ç–∞–∫ –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã! ‚ö°Ô∏è\n' +
        '\n' +
        '<b>2. –ü–æ–∫—É–ø–∫–∏ –≤ –∏–≥—Ä–µ</b> ‚õèÔ∏è: –ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã—Ö –º–∞–π–Ω–µ—Ä–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –ø–æ–≤—ã—à–µ–Ω–∏—è –º–æ—â–Ω–æ—Å—Ç–∏, –∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä–∞–¥! üíé\n' + 
        '\n' +
        '<b>3. –ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π</b> üë•: –ó–æ–≤–∏ —Å–≤–æ–∏—Ö –¥—Ä—É–∑–µ–π, –≤–µ–¥—å –≤–º–µ—Å—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ! –ê –∑–∞ —ç—Ç–æ —Ç—ã —Ç–æ–∂–µ –ø–æ–ª—É—á–∏—à—å –±–æ–Ω—É—Å—ã! üåü\n' +
        '\n' +
        '<b>–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å? –¢–æ–≥–¥–∞ —á–µ–≥–æ –∂–µ —Ç—ã –∂–¥√´—à—å?</b> üí™üî•',
        Markup.inlineKeyboard([
            [Markup.button.webApp('‚õèÔ∏è –ù–∞—á–∞—Ç—å', process.env.FRONTEND_URL)],
            [Markup.button.url('üì¢ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª', process.env.CHANNEL)]
        ])
    );
    }
);


// –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫—É–ø–∫–∏
bot.on('pre_checkout_query', async (ctx) => {
    await ctx.answerPreCheckoutQuery(true);
});


bot.launch({
    webhook: {
        domain: process.env.BACKEND_URL,
        port: process.env.PORT,
    },
});

